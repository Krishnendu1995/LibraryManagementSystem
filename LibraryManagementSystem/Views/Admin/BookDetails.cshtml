@model IEnumerable<LibraryManagementSystem.Models.AddBook>
@{
    ViewData["Title"] = "BookDetails";
    Layout = "~/Views/Shared/AdminLayout.cshtml";
}

<script>
    function populate(bookname, price, status, filename) {
        //alert(bookname);
        //alert(price);

        document.getElementById("n1").value = bookname;
        document.getElementById("n2").value = price;
        document.getElementById("myImg").src = "/Image/"+filename;
        //x=document.Image.nameditem
        

        if (status == 'Available') {
            document.getElementById("status").innerHTML = "Is Available";
            document.getElementById("status").style.color = "green";
        }
        else {
            document.getElementById("status").innerHTML = "Not Available";
            document.getElementById("status").style.color = "red";
        }
    }
</script>
<h1>BookDetails</h1>


<table class="table">
    <thead class="thead-dark">
        <tr>
            @*<th scope="col">Id</th>*@
            <th scope="col">BookNo</th>
            <th scope="col">BookName</th>
            <th scope="col">AuthorName </th>
            <th scope="col">Price </th>
            <th></th>
            <th scope="col">Status </th>
            <th>    </th>
        </tr>
    </thead>

    <tbody>
        @foreach (var item in Model)
        {


        <tr>

            @*@<td>@item.Id</td>*@
            <td>@item.BookNo</td>
            <td>@item.BookName</td>
            <td>@item.AuthorName</td>
            <td>@item.Price</td>
            <td>
            <img src="~/Image/@item.FileName" width="150" height="150" alt="Alternate Text" />
            </td>
            <td>@item.Status</td>
            <td><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal" 
                        
                        onclick="populate('@item.BookName', '@item.Price', '@item.Status', '@item.FileName')">
                Open modal
            </button></td>


        </tr>
        }
    </tbody>
</table>
<div class="container">

    <!-- Button to Open the Modal -->
    <!-- The Modal -->
    <div class="modal" id="myModal">
        <div class="modal-dialog">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Modal Heading</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">

                    <input type="text"  id="n1">
                    <br>
                    <br>
                    <input type="text" id="n2">

                    <p id="status"></p>

                    <img id="myImg" width="100" height="100" @*src="~/Image/@item.FileName" alt="Alternate Text" width="100" height="100"*@>

                    
                </div>
                
                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>

</div>